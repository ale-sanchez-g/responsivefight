--- 
    reset_minion: true
    
    language: node_js
    
    node_js:
      - 10.16.3
    # Build Environment
    build_environment: Ubuntu 16.04
    
    # Create directories for test and coverage reports
    before_script:
      - mkdir -p shippable/testresults
      - mkdir -p shippable/codecoverage

    build:
      pre_ci_boot:
        # https://github.com/cypress-io/cypress-docker-images
        image_name: cypress/browsers
        # use specific tag to avoid surprises
        image_tag: node10.16.3-chrome80-ff73
        pull: true
        options: "--net=host"          
      ci:
        - npm install
        - npm start &
        - sleep 10
        - npm test